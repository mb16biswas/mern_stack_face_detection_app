(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{166:function(e,t,a){},184:function(e,t,a){},445:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){},451:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(14),c=a.n(i),o=(a(166),a(35)),r=a(36),l=a(39),d=a(38),u=a(54),j=a(16),h=a(23),b=a.n(h),m=a(482),O=a(486),g=a(492),p=a(490),x=a(488),v=a(154),S=a(489),f=a(100),_=a.n(f),C=a(487),E=a(491),y=(a(184),a(4)),T=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a),(e=t.call(this)).onchangename=function(t){e.setState({name:t.target.value})},e.onchangeemail=function(t){e.setState({email:t.target.value})},e.onchangeemail1=function(t){e.setState({email:t.target.value})},e.onchangepassword=function(t){e.setState({password:t.target.value})},e.onchangepassword1=function(t){e.setState({password:t.target.value})},e.t1=function(){e.setState({test:"admin"})},e.submit=function(t){if(t.preventDefault(),""!==e.state.name&&""!==e.state.password){var a={username:e.state.name,password:e.state.password,email:e.state.email};b.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"users/add"),a).then((function(t){if("false"===t.data)e.setState({test:"sign"}),alert("this email already exits  ..");else{var a={name:e.state.name,email:e.state.email,auth:"true"};sessionStorage.setItem("mydata",JSON.stringify(a)),e.setState({test:"admin"})}})).catch((function(e){console.log(e)}))}},e.to_signin=function(){e.setState({test:"sign",name:"",password:"",email:""})},e.login=function(){e.setState({test:"login",name:"",password:"",email:""})},e.log_in=function(t){t.preventDefault();var a="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"users/login/")+e.state.email+"/"+e.state.password;b.a.get(a).then((function(t){if("true"===t.data){var a={name:e.state.name,email:e.state.email,auth:"true"};sessionStorage.setItem("mydata",JSON.stringify(a)),e.setState({test:"admin"})}else alert("invalid")})).catch((function(e){return console.log(e)}))};var n="sign",s=sessionStorage.getItem("mydata");return null!==(s=JSON.parse(s))&&(n="admin"),e.state={name:"",password:"",test:n,email:""},e}return Object(r.a)(a,[{key:"render",value:function(){var e,t,a,n={padding:20,height:"80vh",margin:"auto"},s={backgroundColor:"#1bbd7e"},i={margin:"8px 0"};return"admin"===this.state.test?Object(y.jsx)(j.a,{to:"/admin"}):"sign"===this.state.test?Object(y.jsx)("div",{className:"sig",children:Object(y.jsx)(m.a,{children:Object(y.jsxs)(O.a,{elevation:15,style:n,children:[Object(y.jsxs)(m.a,{align:"center",children:[Object(y.jsx)(g.a,{style:s,children:Object(y.jsx)(_.a,{})}),Object(y.jsx)("h2",{children:"Sign In"})]}),Object(y.jsxs)("form",{onSubmit:this.submit,children:[Object(y.jsx)(p.a,(e={label:"Username",placeholder:"username",onChange:this.onchangename,type:"text",required:!0,value:this.state.name,fullWidth:!0},Object(u.a)(e,"required",!0),Object(u.a)(e,"style",{padding:13}),e)),Object(y.jsx)(p.a,(t={label:"Email",placeholder:"email",onChange:this.onchangeemail,value:this.state.email,type:"email",required:!0,fullWidth:!0},Object(u.a)(t,"required",!0),Object(u.a)(t,"style",{padding:13}),t)),Object(y.jsx)(p.a,(a={label:"Password",placeholder:"password",onChange:this.onchangepassword,value:this.state.password,type:"password",required:!0,fullWidth:!0},Object(u.a)(a,"required",!0),Object(u.a)(a,"style",{padding:13}),a)),Object(y.jsx)(C.a,{control:Object(y.jsx)(E.a,{name:"checkedB",color:"primary"}),label:"Remember me"}),Object(y.jsx)(x.a,{type:"submit",color:"primary",variant:"contained",style:i,fullWidth:!0,children:"Sign in"}),Object(y.jsxs)(v.a,{children:[" Do you have an account ?",Object(y.jsx)(S.a,{onClick:this.login,style:{cursor:"pointer"},children:"login"})]})]})]})})}):"login"===this.state.test?Object(y.jsx)("div",{className:"sig",children:Object(y.jsx)(m.a,{children:Object(y.jsxs)(O.a,{elevation:15,style:n,children:[Object(y.jsxs)(m.a,{align:"center",children:[Object(y.jsx)(g.a,{style:s,children:Object(y.jsx)(_.a,{})}),Object(y.jsx)("h2",{children:"Log in "})]}),Object(y.jsxs)("form",{onSubmit:this.log_in,children:[Object(y.jsx)(p.a,{label:"Email",placeholder:"email",type:"email",onChange:this.onchangeemail1,value:this.state.email,fullWidth:!0,required:!0,style:{padding:13}}),Object(y.jsx)(p.a,{label:"Password",placeholder:"password",type:"password",onChange:this.onchangepassword1,value:this.state.password,fullWidth:!0,required:!0,style:{padding:13}}),Object(y.jsx)(C.a,{control:Object(y.jsx)(E.a,{name:"checkedB",color:"primary"}),label:"Remember me"}),Object(y.jsx)(x.a,{type:"submit",color:"primary",variant:"contained",onClick:this.log_in,style:i,fullWidth:!0,children:"log in"}),Object(y.jsxs)(v.a,{children:[" want to go the sing in page ?",Object(y.jsx)(S.a,{onClick:this.to_signin,style:{cursor:"pointer"},children:"sing in"})]})]})]})})}):void 0}}]),a}(n.Component),N=a(152),R=a.n(N),w=a(101),D=a.n(w),A=(a(445),function(e){var t=e.imageUrl,a=e.box;return Object(y.jsx)("div",{className:"center ma",children:Object(y.jsxs)("div",{className:"absolute mt2",children:[Object(y.jsx)("img",{id:"inputimage",alt:"",src:t,width:"500px",heigh:"auto"}),Object(y.jsx)("div",{className:"bounding-box",style:{top:a.topRow,right:a.rightCol,bottom:a.bottomRow,left:a.leftCol}})]})})}),P=(a(446),function(e){var t=e.onInputChange,a=e.onButtonSubmit,n=e.val;return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"center ",children:Object(y.jsxs)("div",{className:"form center pa4 br3 shadow-3 bg-light-red",children:[Object(y.jsx)("input",{className:"f2 pa2 w-70 center",type:"tex",onChange:t,value:n}),Object(y.jsx)("button",{className:"w-30 grow f2 link ph3 pv2 dib white bg-purple",onClick:a,children:"Detect"})]})})})}),K=function(e){var t=e.name,a=e.entries;return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"white f2 pa3 br2",children:"".concat(t,", your current entry count is...")}),Object(y.jsx)("div",{className:"white f1",children:a})]})},U=new D.a.App({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLARIFAI_KEY}),W={particles:{number:{value:80,density:{enable:!0,value_area:800}}}},L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).calculateFaceLocation=function(e){var t=e.outputs[0].data.regions[0].region_info.bounding_box,a=document.getElementById("inputimage"),n=Number(a.width),s=Number(a.height);return{leftCol:t.left_col*n,topRow:t.top_row*s,rightCol:n-t.right_col*n,bottomRow:s-t.bottom_row*s}},e.displayFaceBox=function(t){e.setState({box:t})},e.onInputChange=function(t){e.setState({input:t.target.value})},e.onButtonSubmit=function(){e.setState({imageUrl:e.state.input}),e.setState({input:""}),U.models.predict(D.a.FACE_DETECT_MODEL,e.state.input).then((function(t){if(t){var a={cou:e.state.entries+1},n=a.cou;e.setState({entries:n});var s="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"users/add/")+e.state.email;b.a.post(s,a).then((function(){console.log("response success ")})).catch((function(e){return console.log(e)})),e.displayFaceBox(e.calculateFaceLocation(t))}})).catch((function(e){return console.log(e)}))},e.state={input:"",imageUrl:"",box:{},id:"",name:"",entries:0,email:""},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("mydata");if(null!==t){var a=(t=JSON.parse(t)).email,n="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"users/")+a;b.a.get(n).then((function(t){e.setState({id:t.data._id,name:t.data.username,entries:t.data.count,email:a})}))}}},{key:"render",value:function(){var e=this.state,t=e.imageUrl,a=e.box;return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(R.a,{className:"particles",params:W}),Object(y.jsxs)("div",{children:[Object(y.jsx)(K,{name:this.state.name,entries:this.state.entries}),Object(y.jsx)(P,{onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit,val:this.state.input}),Object(y.jsx)(A,{box:a,imageUrl:t})]})]})}}]),a}(n.Component),B=(a(447),function(e){var t=e.logout,a=e.score,n=e.cur_page;return Object(y.jsx)("div",{children:Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{className:"active",onClick:t,children:"Sign out"}),Object(y.jsx)("li",{className:"active1",onClick:a,children:"Score Board"}),Object(y.jsx)("li",{className:"active2",onClick:n,children:"Main page"})]})})}),F=(a(448),function(e){var t=e.name,a=e.email,n=e.count;return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t}),Object(y.jsx)("td",{children:a}),Object(y.jsx)("td",{children:n})]})}),I=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={data:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;b.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"users/all")).then((function(a){0!==(e=a.data).length&&(e.sort((function(e,t){return t.count-e.count})),e.length,t.setState({data:e.slice(0,11)}))})).catch((function(e){console.log(e)}))}},{key:"scoreboard",value:function(){return this.state.data.map((function(e){return Object(y.jsx)(F,{name:e.username,email:e.email,count:e.count},e._id)}))}},{key:"render",value:function(){return 0!==this.state.data.length?Object(y.jsxs)("div",{className:"brd",children:[Object(y.jsx)("h1",{children:"Score board"}),Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{className:"thead-light",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Username"}),Object(y.jsx)("th",{children:"Email"}),Object(y.jsx)("th",{children:"Count"})]})}),Object(y.jsx)("tbody",{children:this.scoreboard()})]})]}):Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Score board"}),Object(y.jsx)("table",{className:"table",children:Object(y.jsx)("thead",{className:"thead-light",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Username"}),Object(y.jsx)("th",{children:"Email"}),Object(y.jsx)("th",{children:"Count"})]})})})]})}}]),a}(n.Component),k=(a(449),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a),(e=t.call(this)).logout=function(){sessionStorage.removeItem("mydata"),e.setState({test:"logout"})},e.score=function(){e.setState({test:"score"})},e.cur_page=function(){e.setState({test:"admin"})};var n="",s=sessionStorage.getItem("mydata");return null!==(s=JSON.parse(s))&&(n="admin"),e.state={test:n},e}return Object(r.a)(a,[{key:"render",value:function(){return"admin"===this.state.test?Object(y.jsxs)("div",{className:"adm",children:[Object(y.jsx)(B,{logout:this.logout,score:this.score,cur_page:this.cur_page}),Object(y.jsx)(L,{})]}):"score"===this.state.test?Object(y.jsxs)("div",{className:"adm",children:[Object(y.jsx)(B,{logout:this.logout,score:this.score,cur_page:this.cur_page}),Object(y.jsx)(I,{})]}):Object(y.jsx)(j.a,{to:"/"})}}]),a}(n.Component)),H=a(80),q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(y.jsx)(H.a,{children:Object(y.jsxs)(j.d,{children:[Object(y.jsx)(j.b,{exact:!0,path:"/",component:T}),Object(y.jsx)(j.b,{exact:!0,path:"/admin",component:k})]})})}}]),a}(n.Component),J=(a(450),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,494)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))});c.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(q,{})}),document.getElementById("root")),J()}},[[451,1,2]]]);
//# sourceMappingURL=main.383566fb.chunk.js.map